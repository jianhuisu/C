第五章 指针


首先简单介绍一下数据的存储方式

     首先从物理角度介绍
     为什么硬盘可以存储数据呢
     因为盘片上涂有磁性介质,磁性介质是由数以亿万规则排列的可以表示磁极的单元组成
     我们使用磁极单元的S、Y来代表二进制,通过电磁效应可以将磁极方向转化为高低电位 高电位为 1  低电位 0
     配合模拟电路就可以转换为我们日常的可视化数据

     现在跳过复杂的数据读写过程,直接抽象了解数据的存储方式

        我们把一个磁极单元成为 bit 或者 位

        但是 1bit 只能表示两种情况（1 、0）单个 bit 能表示的情况太少

        example
            如果我们用单个bit 的值设置为 1 来代表  男  ; 0 代表 女 , 如果现在新增一种性别:人妖  我们用什么来表示呢 1 、0 都已经被占用了啊

        1 bit 不够我们就用 2 bit  , 2 bit 通过组合排列 可以表示四种情况

        00 01 10      11
        男 女 人妖

        我们耗费了那么精力制造计算机 如果单单只用来记录性别 有点大材小用了, 先人研究后决定使用 bit 来代表 字母
        世界上文字那么多 ，2 bit 的组合情况肯定不够看了 ，经过实践计算后 我们一般使用 8bit来代表一个文字

        8bit 能代表多少种情况呢 2^8 = 256 ; 从 256 种组合里使用 26 种组合方式来代表 26个英文字母还是很轻松的

        0000 0001   0000 0010      0000 0011     ...

        a           b              c             ...

        为了记忆方便 我们称 8bit 为 1字节(byte)
        二进制说起来太啰嗦了, 而且不方便人记忆 我大学计算机考试抄同学卷子 010101 一大串 又难记又容易看错
        所以我们把 2 进制转化为 10 进制来 进化一下内存存储数据方式

        1           2              3             ...

        a           b              c             ...

        当我们需要存储更大的值时 我们可以将两个或者多个字节组合起来

     平面直角坐标系

     地址      1         2      3      4       5     6   7    8     9   。。。
               x        a       d      dd      df    a   dd   ddd   ddd  .....





指针变量的声明


指针是一个值为内存地址的变量

间接运算符 * indirction operator  别名（解引用运算符  dereferencing operator）

    后接一个变量名 或者地址时  * 给出存储在指针指向地址上的值
    & 后接一个变量时 给出该变量的存储地址

乘法运算符   *

虽然他们符号相同 但是语法功能不相同




















void main(void)
{
    int a = 2;

    // 声明一个 整型指针 类型变量
    int *b = &a;

    printf("%d\n",b);  // 打印指针变量 b 的存储的地址
    printf("%d\n",*b); // 打印指针变量 b 存储地址指向的值
}

[root@vagrant-centos65 chapter6]# t pointer.c
1365218292
2

#include <stdio.h>
void main(void)
{
    int a = 2;
    int c = 4;

    // 声明一个 整型指针 类型变量 变量
    int *b;

    // *b = c;  // 这种写法是错误的   Segmentation fault  访问不可访问的内存地址
    //   b = c;   //  assignment makes pointer from integer without a cast
    //   *b = &c;  //  assignment makes pointer from integer without a cast
     b = &c;  // 这种写法正确


    // *d 的右值为 b所存储地址指向的值 4
    // *d 的左值为 b所存储的地址值

    printf("%d\n",b);  // 打印指针变量 b 的存储的地址
    printf("%d\n",*b); // 打印指针变量 b 存储地址指向的值


    /*
        知识点：
         不能简单的通过检查数据的位来判断它的类型
    */
}


声明一个指针变量并不会自动分配任何内存
对指针进行间接访问之前 必须对指针变量进行初始化

NULL指针

指针运算






