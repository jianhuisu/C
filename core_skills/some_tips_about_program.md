1 写代码时应尽可能避免硬编码，避免一个地方的改动波及到大的范围。
2 能用局部变量代替的功能就不要用全局变量
3 使用局部变量的值之前一定要初始化，否则值是不确定的。
4 能用局部变量解决的问题就尽量不用全局变量,因为全局变量出了问题难于debug
5 写代码时应尽可能避免硬编码，这其实也是一个“提取公因式”的过程

    如果原来的代码是硬编码的，那么一旦需要把20改成100000就非常麻烦，你需要找遍整个代码，判断哪些20表示这个数组的长度就改为100000，哪些20表示别的数量则不做改动

6 函数内的注释要尽可能少用。写注释主要是为了说明你的代码“能做什么”（比如函数接口定义），而不是为了说明“怎样做”，只要代码写得足够清晰，
  “怎样做”是一目了然的，如果你需要用注释才能解释清楚，那就表示你的代码可读性很差，除非是特别需要提醒注意的地方才使用函数内注释。

7 复杂的结构体定义比函数更需要注释。复杂的宏定义和变量声明也需要注释。


### 函数

每个函数都应该设计得尽可能简单，简单的函数才容易维护。应遵循以下原则：

1 实现一个函数只是为了做好一件事情，不要把函数设计成用途广泛、面面俱到的，这样的函数肯定会超长，而且往往不可重用，维护困难。

2 函数内部的缩进层次不宜过多，一般以少于4层为宜。如果缩进层次太多就说明设计得太复杂了，应考虑分割成更小的函数（Helper Function）来调用。

3 函数不要写得太长，建议在24行的标准终端上不超过两屏，太长会造成阅读困难，如果一个函数超过两屏就应该考虑分割函数了。
    [CodingStyle]中特别说明，如果一个函数在概念上是简单的，只是长度很长，这倒没关系。例如函数由一个大的switch组成，其中有非常多的case，这是可以的，因为各case分支互不影响，
    整个函数的复杂度只等于其中一个case的复杂度，这种情况很常见，例如TCP协议的状态机实现。

4 执行函数就是执行一个动作，函数名通常应包含动词，例如get_current、radix_tree_insert。

5 比较重要的函数定义上侧必须加注释，说明此函数的功能、参数、返回值、错误码等。

6 另一种度量函数复杂度的办法是看有多少个局部变量，5到10个局部变量已经很多了，再多就很难维护了，应该考虑分割成多个函数。

### indent工具

    $ indent -kr -i8 main.c

个人感觉当从网上下载一个源码时 可以通过这个格式化一下，一般IDE都有这个功能