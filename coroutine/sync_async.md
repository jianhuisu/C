## 同步与异步

##### 异步的优势

高并发，同步阻塞IO模型的并发能力依赖于进程/线程数量，例如 php-fpm开启了200个进程，理论上最大支持的并发能力为200。如果每个请求平均需要100ms，
那么应用程序就可以提供 `(1*1000/100) * 200 = 2000qps`。异步非阻塞的并发能力几乎是无限的，可以发起或维持大量并发TCP连接
`无IO等待`，同步模型无法解决`IOWait`很高的场景，如上述例子每个请求平均要10s，那么应用程序就只能提供20qps了。而异步程序不存在IO等待，所以无论请求要花费多长时间，对整个程序的处理能力没有任何影响

##### 同步的优势

编码简单，同步模式编写/调试程序更轻松
可控性好，同步模式的程序具有良好的过载保护机制，如在下面的情况异步程序就会出问题
Accept保护，同步模式下一个TCP服务器最大能接受 进程数+Backlog 个TCP连接。一旦超过此数量，Server将无法再接受连接，客户端会连接失败。避免服务器Accept太多连接，导致请求堆积

##### swoole 

swoole快速启动中的例子大部分都是异步风格的编程模式，用协程风格(就是用协程同样可以实现相同的功能)。
**协程使得原有的异步逻辑同步化**，但是在协程的切换是隐式发生的，所以在协程切换的前后不能保证全局变量以及`static`变量的一致性。

    快速启动
        TCP服务器
        UDP服务器
        HTTP服务器
        WebSocket服务器
        MQTT(物联网)服务器
        执行异步任务(Task)
        协程初探
        
原文地址https://wiki.swoole.com/#/start/start_server